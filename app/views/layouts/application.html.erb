<!DOCTYPE html>
<html>
  <head>
    <title><%= content_for?(:title) ? yield(:title) : "Untitled" %></title>
    <%= stylesheet_link_tag    "application" %>
    <%= javascript_include_tag "application" %>
    <%= csrf_meta_tag %>
    <%= yield(:head) %>
  </head>

  <body id="<%= params[:controller].parameterize %>">  
    <%= link_to (image_tag 'fork.png', :id => 'fork'), "http://github.com/rogeliog/nerdgem", :target => "_blank"%>
    <div id="container">

      <div id="header">
        <%=link_to "Nerdgem", root_path, :class=> "logo"%>
        <h1>Social Ruby wisdom and more...</h1>

        <div class='right'>
          <% if current_user%>
            <div id='session_links'>
            <%= link_to "Profile", edit_user_path(current_user)%>
            <%= link_to "Sign out", destroy_user_session_path%>
            </div>
          <%else%>
            <div class="sign_in_with_github lighter">
              <%= link_to "Sign in with Github", "/auth/github", :id =>"github_link" %>
            </div>
          <%end%>
        </div>

        <div id="navigation">
          <ul>
            <li><%=link_to "Home", tutorials_path%></li>
            <li><%=link_to "Tutorials", tutorials_path, :id=>"tutorials"%></li>
            <li><%=link_to "New tutorial", new_tutorial_path%></li>
          </ul>
          <div id='search'>
            <%= form_tag tutorials_path, :method => 'get' do %>
              <%= label_tag "Find a tutorial"%>
              <%= text_field_tag :search, params[:search], :id => "search_field" %> 
            <% end %>
          </div>
          <div class='clear'></div>
        </div>
      </div>

      <div id="content">
        <% flash.each do |name, msg| %>
          <%= content_tag :div, msg, :id => "flash_#{name}" %>
        <% end %>

        <%= content_tag :h1, yield(:title) if show_title? %>
        <%= yield %>
      </div>
      <div id="footer">
        <p>Nerd Gem</p>
      </div>
    </div>
  </body>
</html>


